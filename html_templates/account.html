{% extends "layout.html" %}
{% block content %}
<div class="container mt-4">
  <h2>Account</h2>
  <div class="card mb-4">
    <div class="card-header">Change Password</div>
    <div class="card-body">
      {% if current_user.auth_source != 'ldap' %}
      <form method="POST" action="{{ url_for('change_password') }}">
        <div class="form-group">
          <label for="current_password">Current Password</label>
          <input type="password" class="form-control" id="current_password" name="current_password" required>
        </div>
        <div class="form-group">
          <label for="new_password">New Password</label>
          <input type="password" class="form-control" id="new_password" name="new_password" required>
        </div>
        <div class="form-group">
          <label for="confirm_password">Confirm New Password</label>
          <input type="password" class="form-control" id="confirm_password" name="confirm_password" required>
        </div>
        <button type="submit" class="btn btn-primary">Change Password</button>
      </form>
      {% else %}
      <div class="alert alert-info mb-0">Password changes are managed by your LDAP/Active Directory administrator.</div>
      {% endif %}
    </div>
  </div>
  <div class="card">
    <div class="card-header">Logout</div>
    <div class="card-body">
      <a href="{{ url_for('users.logout') }}" class="btn btn-danger">Logout</a>
    </div>
  </div>
</div>
{% endblock %}
