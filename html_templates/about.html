{% extends "layout.html" %}
{% block content %}
  <div class="row">
    <div class="col-12">
      <h1 class="mb-4">About Pikachu CA</h1>

      <div class="card mb-4">
        <div class="card-body">
          <h5 class="card-title">Overview</h5>
          <p class="card-text">
            A Flask-based Public Key Infrastructure (PKI) platform for managing certificate lifecycles
            with SCEP, EST, and OCSP protocol support.
          </p>
        </div>
      </div>

      <div class="card mb-4">
        <div class="card-body">
          <h5 class="card-title">Features</h5>
          <ul>
            <li>Web UI + RESTful API support</li>
            <li>CSR submission and certificate issuance</li>
            <li>Certificate revocation and CRL generation</li>
            <li>SCEP and EST protocol support for automated enrollment</li>
            <li>Post-Quantum Cryptography (e.g., Dilithium)</li>
            <li>MQTTs TLS integration</li>
            <li>OCSP real-time validation</li>
          </ul>
        </div>
      </div>

      <div class="card mb-4">
        <div class="card-body">
          <h5 class="card-title">Resources</h5>
          <div class="list-group list-group-flush">
            <a href="https://github.com/uzigolan/pikachu-ca" target="_blank" class="list-group-item list-group-item-action">
              <strong>GitHub Repository</strong><br>
              <small class="text-muted">https://github.com/uzigolan/pikachu-ca</small>
            </a>
            <a href="https://github.com/certnanny/sscep" target="_blank" class="list-group-item list-group-item-action">
              <strong>SCEP Client (sscep)</strong><br>
              <small class="text-muted">Simple SCEP client for automated enrollment</small>
            </a>
            <a href="https://github.com/globalsign/est" target="_blank" class="list-group-item list-group-item-action">
              <strong>EST Client (estclient)</strong><br>
              <small class="text-muted">GlobalSign EST protocol implementation</small>
            </a>
            <a href="https://github.com/open-quantum-safe/oqs-provider" target="_blank" class="list-group-item list-group-item-action">
              <strong>Post-Quantum Crypto (oqs-provider)</strong><br>
              <small class="text-muted">OpenSSL provider for quantum-safe algorithms</small>
            </a>
          </div>
        </div>
      </div>

      <div class="card mb-4">
        <div class="card-body">
          <h5 class="card-title">Security</h5>
          <p class="card-text">
            Security reports include Bandit static analysis outputs (JSON/HTML/interactive),
            pip-audit dependency findings, and dated history snapshots under <code>security/history</code>.
          </p>
          <div class="list-group list-group-flush">
            <a href="{{ url_for('bandit_report_interactive') }}" target="_blank" class="list-group-item list-group-item-action">
              <strong>Bandit Report (Latest)</strong><br>
              <small class="text-muted">Security review with search, filter, and sort</small>
            </a>
            <a href="{{ url_for('pip_audit_report_interactive') }}" target="_blank" class="list-group-item list-group-item-action">
              <strong>Vulnerabilities Report (Latest)</strong><br>
              <small class="text-muted">Dependency findings with severity, filter, and sort</small>
            </a>
          </div>
        </div>
      </div>

      <div class="card mb-4">
        <div class="card-body">
          <h5 class="card-title">Tests</h5>
          <p class="card-text">
            Two pytest suites: a 17-step UI lifecycle flow and API/PowerShell tests
            covering basic endpoints, EST, EST mTLS, and SCEP (with and without challenge),
            with artifact and DB cleanup. Reports are stored under <code>tests_repo/reports</code>.
          </p>
          <div class="list-group list-group-flush">
            <a href="{{ url_for('latest_ui_report') }}" target="_blank" class="list-group-item list-group-item-action">
              <strong>UI Test Report (Latest)</strong><br>
              <small class="text-muted">Full UI certificate lifecycle report</small>
            </a>
            <a href="{{ url_for('latest_api_report') }}" target="_blank" class="list-group-item list-group-item-action">
              <strong>API Test Report (Latest)</strong><br>
              <small class="text-muted">API and protocol flow report</small>
            </a>
          </div>
        </div>
      </div>

      <div class="card mb-4">
        <div class="card-body">
          <h5 class="card-title">Version</h5>
          <p class="card-text">
            <strong>Current Version:</strong> {{ version }}
          </p>
        </div>
      </div>

      <div class="card mb-4">
        <div class="card-body">
          <h5 class="card-title">License</h5>
          <p class="card-text">
            Dual-licensed under the MIT License or the Apache License, Version 2.0.
            See <a href="{{ url_for('license_file') }}" target="_blank" rel="noopener">LICENSE.md</a> for full text.
          </p>
        </div>
      </div>

      <p class="text-center text-muted mt-4">
        <small>Stay secure, and may your certs never expire.</small>
      </p>
    </div>
  </div>
{% endblock %}
